<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <!-- ‚úÖ correct for iPhone + not ‚Äúcut off‚Äù on right -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Will you be my Valentine? ‚ù§Ô∏è</title>

  <style>
    :root{
      --bg1:#0b0b14; --bg2:#1b0f1a;
      --glass: rgba(255,255,255,.07);
      --border: rgba(255,255,255,.14);
      --pink:#ff4d8d;
      --text: rgba(255,255,255,.92);
    }

    *{ box-sizing:border-box; }

    html,body{
      margin:0;
      width:100%;
      height:100%;
      overflow-x:hidden;           /* ‚úÖ no sideways scroll */
      background:#000;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:#fff;
    }

    body{
      min-height:100vh;
      min-height:100svh;
      padding:
        calc(env(safe-area-inset-top) + 14px)
        calc(env(safe-area-inset-right) + 14px)
        calc(env(safe-area-inset-bottom) + 18px)
        calc(env(safe-area-inset-left) + 14px);
      background:
        radial-gradient(1200px 800px at 15% 10%, #2a1230 0%, transparent 60%),
        radial-gradient(900px 600px at 85% 30%, #1d2a55 0%, transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    /* ====== BACKDROP HEARTS (behind everything) ====== */
    #bgHearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      overflow:hidden;
    }
    .bgHeart{
      position:absolute;
      top:-40px;
      opacity:.22;
      filter: blur(.2px);
      animation: bgFall linear forwards;
      will-change: transform, opacity;
    }
    @keyframes bgFall{
      to{
        transform: translate(var(--drift), 115vh) rotate(360deg);
        opacity:.05;
      }
    }

    /* ====== WRAP/CARD ====== */
    .wrap{
      position:relative;
      z-index:2;
      width:100%;
      max-width:680px;
      margin:0 auto;
      display:flex;
      justify-content:center;
    }

    .card{
      width:100%;
      border-radius:22px;
      background: var(--glass);
      border: 1px solid var(--border);
      backdrop-filter: blur(12px);
      box-shadow: 0 20px 90px rgba(0,0,0,.35);
      overflow:hidden;         /* ‚úÖ no inner scrollbars */
      text-align:center;       /* ‚úÖ centers title + hey line */
    }

    .pad{
      padding:20px 16px;
    }

    h1{
      margin:0 0 10px;
      font-size: clamp(22px, 6vw, 40px);
      line-height:1.15;
      letter-spacing:.2px;
    }
    p{
      margin:0;
      line-height:1.55;
      color:var(--text);
    }
    .accent{ color:var(--pink); font-weight:900; }

    /* ====== MEDIA ====== */
    .media{
      margin:14px auto 10px;
      width: min(540px, 92vw);
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    .media img{
      width:100%;
      height:auto;
      max-height: 58vh;        /* ‚úÖ fits most phones */
      object-fit: contain;     /* ‚úÖ never crops */
      display:block;
      background: rgba(0,0,0,.25);
    }
    .caption{
      margin: 8px auto 0;
      width:min(540px, 92vw);
      font-size:13px;
      color: rgba(255,255,255,.75);
    }

    /* ====== BUTTONS ====== */
    .btns{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:14px;
    }
    button{
      border:0;
      cursor:pointer;
      padding:12px 18px;
      border-radius:999px;
      font-weight:800;
      transition: transform .08s ease, filter .2s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    .yes{
      background: linear-gradient(90deg, #ff3d7f, #ff7ab6);
      color:#1b0f1a;
      box-shadow: 0 14px 35px rgba(255,77,141,.25);
    }
    .no{
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.18);
      color:#fff;
    }

    .small{
      margin-top:10px;
      font-size:12px;
      color: rgba(255,255,255,.65);
    }

    .topRow{
      display:flex;
      gap:10px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      margin-top:12px;
    }

    /* ====== SCREENS ====== */
    .screen{ display:none; }
    .screen.active{ display:block; }

    /* ====== MESSAGE BOX ====== */
    .message{
      margin:14px auto 0;
      padding:14px;
      border-radius:16px;
      width:min(540px, 92vw);
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.12);
      text-align:left;
      white-space:pre-line;
    }

    /* ====== POLAROID GALLERY (side scroll) ====== */
    .galleryWrap{
      margin:14px auto 0;
      width:min(560px, 94vw);
      overflow-x:auto;
      overflow-y:hidden;
      -webkit-overflow-scrolling: touch;
      padding-bottom:10px;
      scrollbar-width: none;
    }
    .galleryWrap::-webkit-scrollbar{ display:none; }

    .gallery{
      display:flex;
      gap:12px;
      padding:8px 2px;
      width:max-content;
    }

    .polaroid{
      width: 190px;
      background: rgba(255,255,255,.92);
      border-radius:14px;
      padding:10px 10px 12px;
      color:#111;
      box-shadow: 0 14px 30px rgba(0,0,0,.28);
      transform: rotate(var(--tilt));
      flex: 0 0 auto;
    }
    .polaroid img{
      width:100%;
      height: 170px;
      object-fit: cover;
      border-radius:10px;
      display:block;
      background:#ddd;
    }
    .polText{
      margin-top:10px;
      font-weight:700;
      font-size:13px;
      line-height:1.2;
      text-align:center;
      color:#222;
    }

    /* ====== FOREGROUND HEARTS (burst + ‚Äúmore hearts‚Äù) ====== */
    .heart{
      position:fixed;
      top:-40px;
      pointer-events:none;
      z-index:9999; /* ‚úÖ over everything */
      opacity:.95;
      filter: drop-shadow(0 8px 14px rgba(0,0,0,.25));
      animation: fall linear forwards;
      will-change: transform, opacity;
    }
    @keyframes fall{
      to{
        transform: translate(var(--drift), 115vh) rotate(360deg);
        opacity:.15;
      }
    }

    /* ====== PASSWORD SCREEN ====== */
    .lockTitle{ margin-bottom:6px; }
    .lockBox{
      margin:14px auto 0;
      width:min(520px, 92vw);
      padding:14px;
      border-radius:16px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.12);
      text-align:left;
    }
    .lockRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    input{
      flex:1;
      min-width:180px;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color:#fff;
      outline:none;
      font-size:16px;
    }
    .err{
      margin-top:10px;
      font-size:13px;
      color: rgba(255,160,180,.92);
      display:none;
    }

    @media (max-width: 420px){
      .pad{ padding:18px 14px; }
      button{ padding:11px 16px; font-size:14px; }
      .media img{ max-height: 54vh; }
      .polaroid{ width: 170px; }
      .polaroid img{ height: 155px; }
    }
  </style>
</head>

<body>
  <!-- ‚úÖ BACKDROP HEARTS -->
  <div id="bgHearts"></div>

  <div class="wrap">
    <div class="card">
      <div class="pad">

        <!-- ===== LOCK SCREEN ===== -->
        <section id="lock" class="screen active">
          <h1 class="lockTitle">One second‚Ä¶ üîí</h1>
          <p>Little private page for <span class="accent">Shella</span> only.</p>

          <div class="lockBox">
            <p style="margin:0;color:rgba(255,255,255,.86)">Password:</p>
            <div class="lockRow">
              <input id="pw" type="password" placeholder="type it‚Ä¶" autocomplete="off" />
              <button class="yes" id="unlockBtn">Unlock</button>
            </div>
            <div class="err" id="pwErr">Nahhh that‚Äôs not it üò≠ try again</div>
          </div>

          <div class="small">hint: üçá</div>
        </section>

        <!-- ===== ASK SCREEN ===== -->
        <section id="ask" class="screen">
          <h1>Will you be my Valentine? üíå</h1>
          <p>Hey <span class="accent" id="herName">Shella</span>, I made this for you.</p>

          <div class="media">
            <img id="slideshowAsk" alt="Photos of us"/>
          </div>
          <div class="caption" id="slideCap"></div>

          <div class="topRow">
            <button class="no" id="musicBtn">Play / Pause Music üé∂</button>
          </div>

          <div class="btns">
            <button class="yes" id="yesBtn">Yes ‚ù§Ô∏è</button>
            <button class="no" id="noBtn">No üò≠</button>
          </div>

          <div class="small">P.S. both buttons work üòå</div>
        </section>

        <!-- ===== YES SCREEN ===== -->
        <section id="yes" class="screen">
          <h1>YAYYYYY üíñüíñüíñ</h1>
          <p style="color:rgba(255,255,255,.9)">Okay so boom‚Ä¶ you stuck with me now üò≠‚ù§Ô∏è</p>

          <div class="media">
            <img id="yesGif" alt="Happy gif"/>
          </div>

          <div class="message" id="heartfelt"></div>

          <h2 style="margin:18px 0 6px;font-size:18px;color:rgba(255,255,255,.92)">Little timeline of us ‚û°Ô∏è</h2>
          <p style="margin:0 0 8px;color:rgba(255,255,255,.72);font-size:13px">Swipe sideways to see everything</p>

          <div class="galleryWrap">
            <div class="gallery" id="gallery"></div>
          </div>

          <div class="btns">
            <button class="yes" id="moreHearts">More hearts</button>
            <button class="no" id="backHome1">Back</button>
          </div>

          <div class="small">Look up üëÜ</div>
        </section>

        <!-- ===== NO SCREEN ===== -->
        <section id="no" class="screen">
          <h1>Dang‚Ä¶ ü•≤</h1>
          <p>I‚Äôm gonna go cry real quick.</p>

          <div class="media">
            <img id="noGif" alt="Sad gif"/>
          </div>

          <div class="btns">
            <button class="yes" id="changeMind">Okay okay‚Ä¶ YES ‚ù§Ô∏è</button>
            <button class="no" id="backHome2">Back</button>
          </div>
        </section>

      </div>
    </div>
  </div>

  <!-- ‚úÖ AUDIO (mp3 in your repo) -->
  <audio id="bgMusic" loop>
    <source src="love.mp3" type="audio/mpeg">
  </audio>

  <script>
    /* =========================
       CONFIG
    ========================= */
    const config = {
      password: "grape",
      herName: "Shella",

      gifs: {
        yes: "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnZhN3owcGVjZzg5ZGtvNmJmanhtMG9vMXFkZ29uZjc4NXZxNjd2dCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/RB46T9ysjzDEs/giphy.gif",
        no:  "https://media.giphy.com/media/ROF8OQvDmxytW/giphy.gif"
      },

      heartfeltMessage:
`Shella, I love you so much.
I‚Äôm really thankful for you.

I‚Äôve been trying my hardest to keep up and it‚Äôs been hard, but you‚Äôve still been right here with me ‚Äî especially when I‚Äôm at my lowest. I love you for that.

This is a hard time for me with everything going on, but you make it feel lighter just by being you.

I can‚Äôt wait to live life with you and be happy. üíñ`,

      /* ‚úÖ All repo photos + your captions */
      photos: [
        { file:"DSCF0007.jpeg", caption:"First time we saw each other" },
        { file:"DSCF0006.JPG",  caption:"After a good time" },
        { file:"IMG_9470.jpeg", caption:"Ocean Shores with you." },
        { file:"EA46A468-EE3C-4890-AC72-702A6EC5D301.jpeg", caption:"Meow Wolf date." },
        { file:"D7F95496-E1E9-4075-A1D7-50FCBE79FE26.jpeg", caption:"Us just enjoying each other‚Äôs company." },

        { file:"17503EC1-5ADC-4A76-B94A-68E07BB33A02.jpeg", caption:"Our first hike together." },
        { file:"9325070F-2DEF-4452-9E9E-52F35D24A94A.jpeg", caption:"Round1" },
        { file:"DEF3A7C1-335A-45B3-8A2F-AB042E139543.jpeg", caption:"Mid hot pot spot." },
        { file:"EE48B53A-645D-44BC-9138-BD7BF6E4DD53.jpeg", caption:"First Hike" },
        { file:"2350A5A0-4AF3-4A20-9E2D-6D80861C29BE.jpeg", caption:"Christmas lights date." },

        { file:"IMG_0233.jpeg", caption:"That scary hike üòÇ" },

        /* Seattle date set (you said ‚Äúthe rest is seattle date‚Äù) */
        { file:"BA557A36-967D-4E1B-917A-EBB73CCED3C8.jpeg", caption:"Seattle date" },
        { file:"021446D9-8B29-4195-9E19-E88224562CCE.jpeg", caption:"Seattle date" },
        { file:"608FD86F-A67E-4556-810C-8E66749C2EF9.jpeg", caption:"Seattle date" }
      ]
    };

    /* =========================
       ELEMENTS
    ========================= */
    const screens = {
      lock: document.getElementById("lock"),
      ask:  document.getElementById("ask"),
      yes:  document.getElementById("yes"),
      no:   document.getElementById("no")
    };

    const herNameEl = document.getElementById("herName");
    const slideImg  = document.getElementById("slideshowAsk");
    const slideCap  = document.getElementById("slideCap");
    const yesGif    = document.getElementById("yesGif");
    const noGif     = document.getElementById("noGif");
    const heartfelt = document.getElementById("heartfelt");
    const gallery   = document.getElementById("gallery");

    const music     = document.getElementById("bgMusic");

    /* =========================
       HELPERS
    ========================= */
    function show(name){
      Object.values(screens).forEach(s => s.classList.remove("active"));
      screens[name].classList.add("active");
      window.scrollTo({ top: 0, behavior: "instant" });
    }

    function safePlayMusic(){
      // iPhone Safari needs a user gesture ‚Äì this function is only called from clicks
      music.play().catch(()=>{});
    }

    /* =========================
       INIT CONTENT
    ========================= */
    herNameEl.textContent = config.herName;
    yesGif.src = config.gifs.yes;
    noGif.src  = config.gifs.no;
    heartfelt.textContent = config.heartfeltMessage;

    /* =========================
       PASSWORD
    ========================= */
    const pwInput = document.getElementById("pw");
    const pwErr   = document.getElementById("pwErr");

    function unlock(){
      const val = (pwInput.value || "").trim().toLowerCase();
      if(val === config.password){
        pwErr.style.display = "none";
        show("ask");
        // optional: start music on unlock tap (still counts as gesture)
        safePlayMusic();
      }else{
        pwErr.style.display = "block";
      }
    }

    document.getElementById("unlockBtn").onclick = unlock;
    pwInput.addEventListener("keydown", (e) => {
      if(e.key === "Enter") unlock();
    });

    /* =========================
       SLIDESHOW (ASK SCREEN)
    ========================= */
    let slideIndex = 0;
    const slides = config.photos.map(p => p.file);

    function setSlide(i){
      slideIndex = i;
      slideImg.src = slides[slideIndex];
      slideCap.textContent = config.photos[slideIndex].caption || "";
    }

    setSlide(0);

    setInterval(() => {
      // only run slideshow when ASK screen is visible
      if(!screens.ask.classList.contains("active")) return;
      const next = (slideIndex + 1) % slides.length;
      setSlide(next);
    }, 3200);

    /* =========================
       POLAROID GALLERY (YES SCREEN)
    ========================= */
    function buildGallery(){
      gallery.innerHTML = "";
      config.photos.forEach((p, idx) => {
        const card = document.createElement("div");
        card.className = "polaroid";
        // tiny random tilt like the example
        const tilt = ((idx % 2 === 0) ? -1 : 1) * (1.2 + Math.random()*1.8);
        card.style.setProperty("--tilt", tilt.toFixed(2) + "deg");

        const img = document.createElement("img");
        img.src = p.file;
        img.alt = p.caption || "Photo";

        const t = document.createElement("div");
        t.className = "polText";
        t.textContent = p.caption || "";

        card.appendChild(img);
        card.appendChild(t);
        gallery.appendChild(card);
      });
    }
    buildGallery();

    /* =========================
       MUSIC BUTTON
    ========================= */
    document.getElementById("musicBtn").onclick = () => {
      if(music.paused){
        safePlayMusic();
      }else{
        music.pause();
      }
    };

    /* =========================
       BUTTONS / SCREENS
    ========================= */
    document.getElementById("yesBtn").onclick = () => {
      show("yes");
      safePlayMusic();
      startBgHearts();       // keep backdrop hearts running
      startHearts();         // foreground falling hearts on YES
      burstHearts(55);       // extra shower
    };

    document.getElementById("noBtn").onclick = () => {
      show("no");
      stopHearts();
      startBgHearts();
    };

    document.getElementById("backHome1").onclick = () => {
      show("ask");
      stopHearts();
      startBgHearts();
    };

    document.getElementById("backHome2").onclick = () => {
      show("ask");
      stopHearts();
      startBgHearts();
    };

    document.getElementById("changeMind").onclick = () => {
      show("yes");
      safePlayMusic();
      startBgHearts();
      startHearts();
      burstHearts(55);
    };

    document.getElementById("moreHearts").onclick = () => burstHearts(45);

    /* =========================
       FOREGROUND HEARTS (over everything)
    ========================= */
    const heartChars = ["üíó","üíñ","üíò","üíù","üíû","üíï","‚ù§Ô∏è"];
    let heartTimer = null;

    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];

      const left = Math.random()*100;
      const size = 12 + Math.random()*28;
      const drift = (Math.random()*140 - 70) + "px";
      const duration = 4 + Math.random()*5;

      h.style.left = left + "vw";
      h.style.fontSize = size + "px";
      h.style.setProperty("--drift", drift);
      h.style.animationDuration = duration + "s";

      document.body.appendChild(h);
      setTimeout(()=>h.remove(), duration*1000);
    }

    function burstHearts(count=30){
      for(let i=0;i<count;i++){
        setTimeout(spawnHeart, i*55);
      }
    }

    function startHearts(){
      if(heartTimer) return;
      heartTimer = setInterval(spawnHeart, 220);
    }

    function stopHearts(){
      if(!heartTimer) return;
      clearInterval(heartTimer);
      heartTimer = null;
    }

    /* =========================
       BACKDROP HEARTS (behind card)
    ========================= */
    const bgLayer = document.getElementById("bgHearts");
    let bgTimer = null;

    function spawnBgHeart(){
      const el = document.createElement("div");
      el.className = "bgHeart";
      el.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];

      const left = Math.random()*100;
      const size = 10 + Math.random()*22;
      const drift = (Math.random()*160 - 80) + "px";
      const duration = 8 + Math.random()*10;

      el.style.left = left + "vw";
      el.style.fontSize = size + "px";
      el.style.setProperty("--drift", drift);
      el.style.animationDuration = duration + "s";

      bgLayer.appendChild(el);
      setTimeout(()=>el.remove(), duration*1000);
    }

    function startBgHearts(){
      if(bgTimer) return;
      // start with a few so it doesn‚Äôt feel empty
      for(let i=0;i<14;i++) setTimeout(spawnBgHeart, i*120);
      bgTimer = setInterval(spawnBgHeart, 260);
    }

    /* Start backdrop hearts immediately */
    startBgHearts();
  </script>
</body>
</html>
